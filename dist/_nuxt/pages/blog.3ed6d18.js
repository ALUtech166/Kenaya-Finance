(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{266:function(t,e,r){var content=r(279);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(42).default)("59b6bdf2",content,!0,{sourceMap:!1})},278:function(t,e,r){"use strict";var n=r(266);r.n(n).a},279:function(t,e,r){(e=r(41)(!1)).push([t.i,".post-container[data-v-5c0972be]{display:flex;flex-wrap:wrap}.text-color[data-v-5c0972be]{color:#070a52}",""]),t.exports=e},311:function(t,e,r){"use strict";r.r(e);r(49),r(94),r(48);var n=r(14),o=r(309),c={asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,e.next=3,r().only(["title","date","summary","image","tags","slug"]).sortBy("createdAt","desc").fetch();case 3:return n=e.sent,console.log("posts",n),e.abrupt("return",{posts:n,currentPage:1,pagination:6,allPosts:[],base:"/blog"});case 6:case"end":return e.stop()}}),e)})))()},computed:{totalPages:function(){return Math.ceil(this.allPosts.length/this.pagination)},showPreviousPage:function(){return 1!==this.currentPage},previousPage:function(){return[0,1].includes(this.currentPage-1)?this.base:"".concat(this.base,"?page=").concat(this.currentPage-1)},showNextPage:function(){return this.currentPage!==this.totalPages},nextPage:function(t,e){return this.totalPages>this.currentPage?"".concat(this.base,"?page=").concat(this.currentPage+1):"".concat(this.base,"?page=").concat(this.currentPage)}},methods:{formatDate:function(t){return Object(o.a)(new Date(t),"MMMM d, Y")}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$content().fetch();case 2:return t.allPosts=e.sent,t.currentPage=parseInt(t.$route.query.page)?parseInt(t.$route.query.page):1,t.currentPage>t.totalPages&&(t.$router.push("/blog"),window.location.href="/blog"),e.next=7,t.$content().sortBy("date","desc").limit(t.pagination).skip((t.currentPage-1)*t.pagination).fetch();case 7:t.posts=e.sent;case 8:case"end":return e.stop()}}),e)})))()},fetchOnServer:!1},l=(r(278),r(36)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mx-auto py-16 lg:px-32 px-6 bg-gray-200"},[r("div",{staticClass:"grid gap-4 grid-cols-1 md:grid-cols-3"},t._l(t.posts,(function(e,n){return r("div",{key:n,staticClass:"max-w-7xl hover:transform -translate-y-40 bg-white cursor-pointer  hover:shadow-2xl hover:shadow-blue-800 rounded-lg",on:{click:function(r){return t.$router.push("/posts/"+e.slug)}}},[r("img",{staticClass:"w-screen rounded-lg shadow-2xl mb-3 hover:opacity-60",attrs:{src:e.image,alt:e.title}}),t._v(" "),r("h2",{staticClass:"text-xl font-bold mb-2 px-4 no-underline"},[r("nuxt-link",{staticClass:"text-color font-extrabold text-xl",attrs:{to:"/posts/"+e.slug}},[t._v(t._s(e.title))])],1),t._v(" "),r("div",{staticClass:"text-back mb-2 text-md font-bold italic px-4"},[r("span",[t._v(t._s(t.formatDate(e.date)))])]),t._v(" "),r("div",{staticClass:"mb-4 px-4"},[r("a",{staticClass:"font-bold text-color text-xl",attrs:{href:"/posts/"+e.slug}},[t._v("Lire Plus")])])])})),0),t._v(" "),r("div",{staticClass:"flex justify-between text-xl text-color items-center mt-12"},[r("a",{class:{"text-gray-400 hover:text-gray-400 cursor-not-allowed":!t.showPreviousPage},attrs:{href:t.previousPage}},[t._v("← précédent")]),t._v(" "),r("div",{staticClass:"text-base"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages))]),t._v(" "),r("a",{class:{"text-gray-400 hover:text-gray-400 cursor-not-allowed":!t.showNextPage},attrs:{href:t.nextPage}},[t._v("suivant \n      →")])])])}),[],!1,null,"5c0972be",null);e.default=component.exports}}]);